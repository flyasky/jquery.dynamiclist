<!doctype html>
<html lang="en">
    <head>
        <title>jQuery Dynamic List Demo</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <style>body{margin:1em}.list-item{padding-bottom:.25em}</style>
    </head>
    <body>
        <h1>jQuery Dynamic List Demo</h1>
        <hr />
        <form class="form-horizontal">
            <h2>Example 1: Basic List</h2>
            <div class="control-group">
                <label class="control-label">Party</label>
                <div class="controls">
                    <input name="partyName" type="text" placeholder="Party Name">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Guest List</label>
                <div id="example1" class="controls">
                    <div class="list-template">
                        <input name="guestList[#].name" type="text" placeholder="Guest Name">
                        <a href="#" class="list-remove btn btn-small"><i class="icon-minus"></i> Remove Guest</a>
                    </div>
                    <a href="#" class="list-add btn btn-small"><i class="icon-plus"></i> Add Guest</a>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <input type="submit" class="btn btn-primary btn-large" value="Process Example 1"/>
                </div>
            </div>
        </form>
        <hr />
        <form class="form-horizontal">
            <h2>Example 2: Allow Empty List</h2>
            <p>This form allows an empty guest list to be submitted.</p>
            <div class="control-group">
                <label class="control-label">Party</label>
                <div class="controls">
                    <input name="partyName" type="text" placeholder="Party Name">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Guest List</label>
                <div id="example2" class="controls">
                    <div class="list-template">
                        <input name="guestList[#].name" type="text" placeholder="Guest Name">
                        <a href="#" class="list-remove btn btn-small"><i class="icon-minus"></i> Remove Guest</a>
                    </div>
                    <a href="#" class="list-add btn btn-small"><i class="icon-plus"></i> Add Guest</a>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <input type="submit" class="btn btn-primary btn-large" value="Process Example 2"/>
                </div>
            </div>
        </form>

        <form class="form-horizontal">
            <h2>Example 3: With Events</h2>
            <p>This form contains select that has an onChange event listener.</p>
            <div class="control-group">
                <label class="control-label">Party</label>
                <div class="controls">
                    <input name="partyName" type="text" placeholder="Party Name">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">Guest List</label>
                <div id="example3" class="controls">
                    <div class="list-template">
                        <input name="guestList[#].name" type="text" placeholder="Guest Name">
                        <select name="guestList[#].color" class="color">
                            <option value="black">- select color -</option>
                            <option value="blue">Blue</option>
                            <option value="orange">Orange</option>
                            <option value="red">Red</option>
                            <option value="yellow">Yellow</option>
                        </select>
                        <a href="#" class="list-remove btn btn-small"><i class="icon-minus"></i> Remove Guest</a>
                    </div>
                    <a href="#" class="list-add btn btn-small"><i class="icon-plus"></i> Add Guest</a>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <input type="submit" class="btn btn-primary btn-large" value="Process Example 3"/>
                </div>
            </div>
        </form>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="../jquery.dynamiclist.min.js" type="text/javascript"></script>
        <script>
            $(document).ready(function() {
                $("#example1").dynamiclist();
                $("#example2").dynamiclist({minSize:0});
                $("#example3").dynamiclist({withEvents:true});
                
                // example 3 on change event         
                $("#example3 .color").change(function() {
                    $(this).prev().css("color", $(this).val())
                });
                
                // display form submit data
                $("form").submit(function(event) {
                    var data = "";
                    $(this).find("input, select").each(function() {
                        var element = $(this);
                        if (element.attr("type") != "submit") {
                            data += element.attr("name");
                            data += "="
                            data += element.attr("value");
                            data += "; "
                        }
                    });
                    alert(data);
                });
            });
        </script>
    </body>
</html>